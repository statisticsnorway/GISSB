<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="GISSB">
<title>GISSB - Netverksanalyse i R • GISSB</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GISSB - Netverksanalyse i R">
<meta property="og:description" content="GISSB">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">GISSB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/GISSB_vignette.html">GISSB - Netverksanalyse i R</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="GISSB_vignette_files/htmlwidgets-1.6.0/htmlwidgets.js"></script><link href="GISSB_vignette_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="GISSB_vignette_files/leaflet-1.3.1/leaflet.js"></script><link href="GISSB_vignette_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="GISSB_vignette_files/proj4-2.6.2/proj4.min.js"></script><script src="GISSB_vignette_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="GISSB_vignette_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="GISSB_vignette_files/leaflet-binding-2.1.1/leaflet.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>GISSB - Netverksanalyse i R</h1>
                        <h4 data-toc-skip class="author">Sindre Mikael
Haugen</h4>
            
            <h4 data-toc-skip class="date">2023-01-02</h4>
      
      
      <div class="d-none name"><code>GISSB_vignette.Rmd</code></div>
    </div>

    
    
<p><code>GISSB</code> er en pakke som inneholder GIS-funksjoner i R. I
denne vignetten demonstreres det hvordan GISSB kan brukes til å
gjennomføre nettverksanalyser i R.</p>
<p>Pakken inneholder følgende funksjoner:</p>
<ul>
<li><code>address_to_coords</code></li>
<li><code>coords_to_google</code></li>
<li><code>vegnett_to_R</code></li>
<li><code>coords_to_node</code></li>
<li><code>shortest_path_igraph</code></li>
<li><code>path_leaflet</code></li>
<li><code>shortest_path_cppRouting</code></li>
</ul>
<p>Ved å bruke disse funksjonene kan man bl.a. finne koordinater til
adresser og beregne kjøretid og -avstand mellom disse ved å bruke
vegnettet (<a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313" class="external-link">NVDB
Ruteplan nettverksdatasett</a>). Dette kan være nyttig dersom man f.eks.
ønsker å analysere regionale forskjeller i befolkningens tilgang til
offentlige tjenester.</p>
<p>Se <a href="https://www.ssb.no/helse/helsetjenester/statistikk/spesialisthelsetjenesten/artikler/hvor-lang-tid-tar-det-a-kjore-til-naermeste-fodested" class="external-link">Hvor
lang tid tar det å kjøre til nærmeste fødested?</a> for et eksempel der
denne pakken har blitt brukt til å lage offisiell statiatikk.</p>
<div class="section level2">
<h2 id="finne-koordinater-til-adresser-address_to_coords">Finne koordinater til adresser (<code>address_to_coords</code>)<a class="anchor" aria-label="anchor" href="#finne-koordinater-til-adresser-address_to_coords"></a>
</h2>
<p>Funksjonen <code>address_to_coords</code> bruker <a href="https://ws.geonorge.no/adresser/v1/#/" class="external-link">Kartverkets adresse-API</a>
for å finne koordinater til adresser. Denne API-en krever nettilgang og
baserer seg på matrikkelen, som er Norges offisielle eiendomsregister og
inneholder alle offisielle adresser med tilhørende koordinater. Ved å
skrive inn postnummer og adresse returneres et <a href="https://r-spatial.github.io/sf/articles/sf1.html" class="external-link">sf-objekt</a>
med koordinatene til denne adressen. Dersom det er én eller flere
adresser som ikke finnes i matrikkelen returneres det et datasett med
manglenede verdier for lon/lat for adressene som mangler.</p>
<p>Standardverdi for projeksjonen av koordinatene er satt til <a href="https://epsg.io/25833" class="external-link">CRS 25833</a>. Dette er det offisielle
koordinatsystemet i Norge og brukes i de fleste norske kartfiler.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fra</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/address_to_coords.html">address_to_coords</a></span><span class="op">(</span>zip_code <span class="op">=</span> <span class="st">"0177"</span>,</span>
<span>                         address <span class="op">=</span> <span class="st">"Akersveien 26"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fra</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 262320 ymin: 6650367 xmax: 262320 ymax: 6650367</span></span>
<span><span class="co">#&gt; Projected CRS: ETRS89 / UTM zone 33N</span></span>
<span><span class="co">#&gt;            address zip_code kommunenummer kommunenavn ID               geometry</span></span>
<span><span class="co">#&gt; 0177 Akersveien 26     0177          0301        OSLO  1 POINT (262320 6650367)</span></span>
<span></span>
<span><span class="va">til</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/address_to_coords.html">address_to_coords</a></span><span class="op">(</span>zip_code <span class="op">=</span> <span class="st">"2211"</span>,</span>
<span>                         address <span class="op">=</span> <span class="st">"Otervegen 23"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">til</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 334492 ymin: 6674510 xmax: 334492 ymax: 6674510</span></span>
<span><span class="co">#&gt; Projected CRS: ETRS89 / UTM zone 33N</span></span>
<span><span class="co">#&gt;           address zip_code kommunenummer kommunenavn ID               geometry</span></span>
<span><span class="co">#&gt; 2211 Otervegen 23     2211          3401 KONGSVINGER  1 POINT (334492 6674510)</span></span></code></pre></div>
<p>Det er også mulig å benytte <a href="https://epsg.io/4326" class="external-link">CRS
4326</a> for å plassere koordinatene på kart med åpen kildekode (som
f.eks. <a href="https://rstudio.github.io/leaflet/" class="external-link">Leaflet</a>) eller
for å enklere søke opp koordinater i Google Maps. Koordinatsystemet CRS
4326 er derimot ikke metrisk og man kan derfor ikke måle avstander i
meter når man bruker dette. Derfor anbefales det kun å bruke CRS 4326 i
forbindelse med visualisering.</p>
<p>For å få koordinatene med CRS 4326 må dette spesifiseres i funksjonen
<code>address_to_coords</code>. Det er også mulig å angi en vektor med
flere postnummere og adresser for å få oppgitt koordinatene til flere
adresser:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">postnummere</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0177"</span>, <span class="st">"2211"</span><span class="op">)</span></span>
<span><span class="va">adresser</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Akersveien 26"</span>, <span class="st">"Otervegen 23"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fra_4326</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/address_to_coords.html">address_to_coords</a></span><span class="op">(</span>zip_code <span class="op">=</span> <span class="va">postnummere</span>,</span>
<span>                         address <span class="op">=</span> <span class="va">adresser</span>,</span>
<span>                         crs_out <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span><span class="va">fra_4326</span></span>
<span><span class="co">#&gt; Simple feature collection with 2 features and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 10.74685 ymin: 59.92203 xmax: 12.01638 ymax: 60.17383</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;            address zip_code kommunenummer kommunenavn ID</span></span>
<span><span class="co">#&gt; 0177 Akersveien 26     0177          0301        OSLO  1</span></span>
<span><span class="co">#&gt; 2211  Otervegen 23     2211          3401 KONGSVINGER  2</span></span>
<span><span class="co">#&gt;                       geometry</span></span>
<span><span class="co">#&gt; 0177 POINT (10.74685 59.92203)</span></span>
<span><span class="co">#&gt; 2211 POINT (12.01638 60.17383)</span></span></code></pre></div>
<p>Etter å ha omgjort koordinatene til CRS 4326 kan de plasseres på
internasjonale kart, her med pakken Leaflet:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span>width <span class="op">=</span> <span class="st">"100%"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html" class="external-link">addMarkers</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">fra_4326</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-f468d147a8176f57f6bb" style="width:100%;height:480px;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-f468d147a8176f57f6bb">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[59.9220274187717,60.1738313973094],[10.7468516818247,12.0163762410388],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[59.9220274187717,60.1738313973094],"lng":[10.7468516818247,12.0163762410388]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="søke-opp-koordinater-i-google-maps-coords_to_google">Søke opp koordinater i Google Maps
(<code>coords_to_google</code>)<a class="anchor" aria-label="anchor" href="#s%C3%B8ke-opp-koordinater-i-google-maps-coords_to_google"></a>
</h2>
<p>Når man skal kombinere flere kartfiler er det viktig at alle filene
er angitt med samme koordinatsystem. Om man derfor ønsker å beholde
sf-objektet med CRS 25833, men ønsker å legge til en kolonne med
koordinatene i CRS 4326 (som er enklere å klippe og lime inn i Google
Maps) kan man bruke funksjonen <code>coords_to_google</code>. Da legges
det til en kolonne som heter <code>coords_google</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fra</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_google.html">coords_to_google</a></span><span class="op">(</span><span class="va">fra</span><span class="op">)</span></span>
<span><span class="va">fra</span><span class="op">$</span><span class="va">coords_google</span></span>
<span><span class="co">#&gt; [1] "59.9220274187717, 10.7468516818247"</span></span>
<span></span>
<span><span class="va">til</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_google.html">coords_to_google</a></span><span class="op">(</span><span class="va">til</span><span class="op">)</span></span>
<span><span class="va">til</span><span class="op">$</span><span class="va">coords_google</span></span>
<span><span class="co">#&gt; [1] "60.1738313973094, 12.0163762410388"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="databehandling-av-vegnettet-vegnett_to_r">Databehandling av vegnettet (<code>vegnett_to_R</code>)<a class="anchor" aria-label="anchor" href="#databehandling-av-vegnettet-vegnett_to_r"></a>
</h2>
<p>For å beregne kjøretid og -avstand mellom ulike koordinater benyttes
vegnettet som kan lastes ned fra <a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313/" class="external-link">Geonorge</a>.
Når man laster inn vegnettsfilen som et sf-objekt ser den slik ut (OBS:
det kan ta opptil 3 minutter å laste inn filen):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vegnett</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="st">"vegnettRuteplan_FGDB_20210528.gdb"</span>, <span class="st">'ERFKPS'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">vegnett</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/vegnett_2021.png" width="100%"></p>
<p>Vegnettet består av punkter som er plassert ca. 50 meter fra
hverandre. Disse punktene kalles for noder. Lenkene som forbinder
nodene/punktene sammen heter edges.</p>
<p>For at vegnettet skal kunne brukes til nettverksanalyser i R må
dataene behandles og formatet omgjøres (med funksjoner bl.a. fra pakkene
<a href="https://igraph.org/r/" class="external-link">igraph</a> og <a href="https://github.com/vlarmet/cppRouting/blob/master/README.md" class="external-link">cppRouting</a>).
Denne databehandlingen av vegnettet er samlet i funksjonen
<code>vegnett_to_R</code>. Resultatet er en liste med følgende
objekter:</p>
<ul>
<li>[1] <code>graph</code> (tbl_graph)</li>
<li>[2] <code>nodes</code> (sf)</li>
<li>[3] <code>edges</code> (data.frame)</li>
<li>[4] <code>graph_cppRouting_minutes</code> (cppRouting)</li>
<li>[5] <code>graph_cppRouting_meters</code> (cppRouting)</li>
</ul>
<p>Objektene <code>nodes</code> og <code>edges</code> benyttes for å
plassere koordinatene til sitt nærmeste punkt i vegnettet med funksjonen
<code>coords_to_node</code>.</p>
<p>Objektet <code>graph</code> benyttes for å beregne korteste
kjøretid/-vei i meter eller minutter med funksjonen
<code>shortest_path_igraph</code>. Denne benyttes også for å vise hvilke
noder i hvilken rekkefølge som utgjør den korteste kjøreruten mellom to
punkter i vegnettet.</p>
<p>Objektet <code>graph_cppRouting_minutes</code> benyttes for å beregne
korteste kjøretid i minutter med funksjonen
<code>shortest_path_cppRouting</code>. Tilsvarende benyttes objektet
<code>graph_cppRouting_meters</code> for å beregne korteste kjøreavstand
i meter.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vegnett_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vegnett_to_R.html">vegnett_to_R</a></span><span class="op">(</span>vegnett <span class="op">=</span> <span class="va">vegnett_sampledata</span>,</span>
<span>                            year <span class="op">=</span> <span class="fl">2021</span>,</span>
<span>                            fromnodeID <span class="op">=</span> <span class="st">"FROMNODEID"</span>,</span>
<span>                            tonodeID <span class="op">=</span> <span class="st">"TONODEID"</span>,</span>
<span>                            FT_minutes <span class="op">=</span> <span class="st">"FT_MINUTES"</span>,</span>
<span>                            TF_minutes <span class="op">=</span> <span class="st">"TF_MINUTES"</span>,</span>
<span>                            meters <span class="op">=</span> <span class="st">"SHAPE_LENGTH"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="va">vegnett_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">nodes</span> <span class="op">&lt;-</span> <span class="va">vegnett_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">edges</span> <span class="op">&lt;-</span> <span class="va">vegnett_list</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">graph_cppRouting_minutes</span> <span class="op">&lt;-</span> <span class="va">vegnett_list</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">graph_cppRouting_meters</span> <span class="op">&lt;-</span> <span class="va">vegnett_list</span><span class="op">[[</span><span class="fl">5</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<p>Merk at vegnettsfilene fra Geonorge endret struktur og kolonnenavn i
2022. Standardverdiene for funksjonen <code>vegnett_to_R</code> er
gyldige for den nye strukturen, mens for vegnett fra 2021 og tidligere
må følgende argumenter spesifiseres: <code>year = 2021</code>,
<code>fromnodeID = "FROMNODEID"</code>,
<code>tonodeID = "TONODEID"</code>,
<code>FT_minutes = "FT_MINUTES"</code>,
<code>TF_minutes = "TF_MINUTES"</code> og
<code>meters = "SHAPE_LENGTH"</code>.</p>
<p>Det er også mulig å legge til svingrestriksjoner (“turn
restrictions”) i vegnettet. Dette finnes som et separat kartlag i
.gdb-filene man laster ned fra Geonorge. Disse filene inneholder flere
feil (?) og derfor anbefales det ikke å ta disse i bruk (før problemene
har blitt løst). Om man allikevel ønsker å teste med svingrestriksjoner
må man laste inn kartlaget i et objekt som heter
<code>turnrestrictions_geom</code> og sette argumentet
<code>turn_restrictions = TRUE</code> i funksjonen
<code>vegnett_to_R</code>.</p>
</div>
<div class="section level2">
<h2 id="knytte-koordinater-til-vegnettet-coords_to_node">Knytte koordinater til vegnettet (<code>coords_to_node</code>)<a class="anchor" aria-label="anchor" href="#knytte-koordinater-til-vegnettet-coords_to_node"></a>
</h2>
<p>For å kunne beregne kjøretid/-vei fra et valgt start- og stoppunkt
(uten å vite hvilken node-ID disse har) må man knytte adressene man
ønsker å analysere til deres nærmeste punkt i vegnettet. Dette gjøres
ved å finne hvilken node som er den nærmeste et gitt koordinatpunkt (X
og Y) i vegnettet. Ved å bruke funksjonen <code>knn</code> fra pakken <a href="https://rdrr.io/cran/nabor/man/knn.html" class="external-link">nabor</a> finner man det
nærmeste punktet i meter (målt i luftlinje) fra et gitt koordinatpunkt.
<code>knn = 1</code> betyr at man kun er interessert i å lokalisere det
nærmeste punktet til koordinatene og dette er satt som standardverdi i
funksjonen <code>coords_to_node</code>. Dersom denne settes til et annet
tall (gjøres ved å endre argumentet <code>knn = X</code> i funksjonen)
finner man det nærmeste punktet (<code>knn = 1</code>), to nærmeste
punktene (<code>knn = 2</code>), tre nærmeste punktene
(<code>knn = 3</code>) osv. Dette kan være nyttig dersom det nærmeste
punktet i vegnettet ikke finner en gyldig rute pga. enveiskjørte veier
eller andre brudd i vegnettet.</p>
<p>I funksjonen <code>coords_to_node</code> legger man inn et sf-objekt
(med CRS 25833) som inneholder koordinatene til ett eller flere punkter.
Resultatet er et objekt der node-ID-en til den nærmeste noden til
koordinatene målt i luftlinje har blitt lagt til
(<code>from_node</code>/<code>to_node</code>). I tillegg viser kolonnen
<code>dist_coord_node_from</code>/<code>dist_coord_node_to</code> hvor
mange meter det er i luftlinje mellom koordinatene og det nærmeste
punktet i vegnettet til hvert koordinatpunkt. Dette kan være nyttig for
å avgjøre om det er enkelte koordinater som har blitt tildelt noder som
er for langt unna den opprinnelige plasseringen (og som man dermed kan
vurdere å utelate fra den videre analysen). Det kan også være lurt å
legge til en ekstra kostnad for avstanden mellom koordinatene til en
adresse og den nærmeste noden i vegnettet. F.eks. kan man regne ut hvor
lang tid det tar å kjøre avstanden i 30 km/t i minutter ved å gange
avstanden i
<code>dist_coord_node_from</code>/<code>dist_coord_node_to</code> med
0,002. Man bør også gange selve avstanden først med et tall høyere enn 1
(f.eks. 1,5) for å kompensere for svinger i veien ettersom det sjelden
er mulig å reise i luftlinje.</p>
<p>For å benytte funksjonen <code>coords_to_node</code> må objektene
<code>nodes</code> og <code>edges</code> (som lages med funksjonen
<code>vegnett_to_R</code>) være lastet inn.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">from_node</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_node.html">coords_to_node</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="va">fra</span>, direction <span class="op">=</span> <span class="st">"from"</span><span class="op">)</span></span>
<span><span class="va">from_node</span></span>
<span></span>
<span><span class="va">to_node</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_node.html">coords_to_node</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="va">til</span>, direction <span class="op">=</span> <span class="st">"to"</span><span class="op">)</span></span>
<span><span class="va">to_node</span></span></code></pre></div>
<p>Vegnettet består av flere mindre deler/vegnett der flere av disse
ikke har noen tilknytning til hverandre. Dersom man har et startpunkt
som tilhører en annen del av vegnettet enn stoppunktet vil det ikke være
mulig å finne en gyldig rute mellom disse. Ved å legge til argumentet
<code>membership = TRUE</code> begrenses listen over hvilke noder man
leter etter til å kun gjelde noder som er tilknyttet samme del av
vegnettet som enten start- eller stoppnoden. Dette kan bare gjøres for
enten “from” eller “to” og koden som har angitt argumentet
<code>membership = FALSE</code> må kjøres før koden som har
<code>membership = TRUE</code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">from_node</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_node.html">coords_to_node</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="va">fra</span>, direction <span class="op">=</span> <span class="st">"from"</span>, membership <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">to_node</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_node.html">coords_to_node</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="va">til</span>, direction <span class="op">=</span> <span class="st">"to"</span>, membership <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="beregne-korteste-kjøretid-og--avstand-med-tidygraph-shortest_path_igraph">Beregne korteste kjøretid og -avstand med tidygraph
(<code>shortest_path_igraph</code>)<a class="anchor" aria-label="anchor" href="#beregne-korteste-kj%C3%B8retid-og--avstand-med-tidygraph-shortest_path_igraph"></a>
</h2>
<p>Når man har en node-ID for både et start- og stoppunkt kan man
benytte funksjonen <code>shortest_path_igraph</code> for å beregne den
korteste kjøreavstanden mellom disse. For å beregne korteste kjøretid i
minutter angis argumentet <code>unit = "minutes"</code> (standardverdi),
mens <code>unit = "meters"</code> beregner korteste kjøreavstand i
meter.</p>
<p>For å kjøre koden må objektet <code>graph</code> (som lages med
funksjonen <code>vegnett_to_R</code>) være lastet inn.</p>
<p>OBS: <code>shortest_path_igraph</code> fungerer ikke med vektorer,
dvs. en liste over flere fra- eller til-noder. Med
<code>shortest_path_igraph</code> er det altså kun mulig å beregne
avstander én til én. For å beregne avstand med flere fra- og/eller
til-noder brukes funksjonen <code>shortest_path_cppRouting</code> (se
nedenfor).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">avstand_min</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/shortest_path_igraph.html">shortest_path_igraph</a></span><span class="op">(</span>from_node_ID <span class="op">=</span> <span class="va">from_node</span><span class="op">$</span><span class="va">from_node</span>,</span>
<span>                           to_node_ID <span class="op">=</span> <span class="va">to_node</span><span class="op">$</span><span class="va">to_node</span>,</span>
<span>                           unit <span class="op">=</span> <span class="st">"minutes"</span>,</span>
<span>                           path <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">avstand_min</span><span class="op">$</span><span class="va">length</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="st">" minutter / "</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">avstand_min</span><span class="op">$</span><span class="va">length</span><span class="op">/</span><span class="fl">60</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>       <span class="st">" timer og "</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">avstand_min</span><span class="op">$</span><span class="va">length</span>, digits <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">avstand_min</span><span class="op">$</span><span class="va">length</span><span class="op">/</span><span class="fl">60</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">60</span>, <span class="st">" minutter"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">avstand_meter</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/shortest_path_igraph.html">shortest_path_igraph</a></span><span class="op">(</span>from_node_ID <span class="op">=</span> <span class="va">from_node</span><span class="op">$</span><span class="va">from_node</span>,</span>
<span>                                 to_node_ID <span class="op">=</span> <span class="va">to_node</span><span class="op">$</span><span class="va">to_node</span>,</span>
<span>                                 unit <span class="op">=</span> <span class="st">"meters"</span>,</span>
<span>                                 path <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">avstand_meter</span><span class="op">$</span><span class="va">length</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="st">" meter / "</span>,</span>
<span>       <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">avstand_meter</span><span class="op">$</span><span class="va">length</span><span class="op">/</span><span class="fl">1000</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="st">" km."</span></span>
<span>       <span class="op">)</span></span></code></pre></div>
<p>For å få oppgitt hvilke noder i hvilken rekkefølge som utgjør den
korteste ruten mellom start- og stoppunktet legges argumentet
<code>path = TRUE</code> til:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/shortest_path_igraph.html">shortest_path_igraph</a></span><span class="op">(</span>from_node_ID <span class="op">=</span> <span class="va">from_node</span><span class="op">$</span><span class="va">from_node</span>,</span>
<span>                           to_node_ID <span class="op">=</span> <span class="va">to_node</span><span class="op">$</span><span class="va">to_node</span>,</span>
<span>                           unit <span class="op">=</span> <span class="st">"minutes"</span>,</span>
<span>                           path <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">path</span><span class="op">$</span><span class="va">epath</span></span></code></pre></div>
<p>Det er mulig å visualisere kjøreruter laget med funksjonen
<code>shortest_path_igraph</code> (der <code>path = TRUE</code>) ved å
bruke funksjonen <code>path_leaflet</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/path_leaflet.html">path_leaflet</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="beregne-korteste-kjøretid-og--avstand-med-cpprouting-shortest_path_cpprouting">Beregne korteste kjøretid og -avstand med cppRouting
(<code>shortest_path_cppRouting</code>)<a class="anchor" aria-label="anchor" href="#beregne-korteste-kj%C3%B8retid-og--avstand-med-cpprouting-shortest_path_cpprouting"></a>
</h2>
<p>Det er mulig å bruke funksjonen <code>shortest_path_igraph</code> til
å beregne kjøretid/-vei, men dette kan ta veldig lang tid dersom man
skal beregne kjøreruter mellom mange koordinater. Derfor er det best å
heller bruke funksjonen <code>shortest_path_cppRouting</code>. Denne
funksjonen bruker pakken <a href="https://github.com/vlarmet/cppRouting/blob/master/README.md" class="external-link">cppRouting</a>
som benytter et annet format på dataene som krever mindre minne og
benytter parallellprosessering, noe som gjør at kjøringene går mye
raskere. I tillegg lagres ikke informasjonen om selve ruten, kun
avstanden mellom start- og stoppunktene i minutter eller meter. Dette er
en fordel mtp. på tiden det tar å kjøre koden, men ulempen er at man
ikke får sjekket hvilke veglenker hver rute består av. Dette kan derfor
funksjonen <code>shortest_path_igraph</code> (med
<code>path = TRUE</code>) brukes til dersom man ønsker å kontrollere
eller visualisere kjøreruter mellom ett start- og stoppunkt.</p>
<p>I funksjonen <code>shortest_path_cppRouting</code> kan man legge inn
vektorer med flere noder i både argumentene <code>from_node</code> og
<code>to_node</code>. Det betyr at dersom man legger inn to noder i
<code>from_node</code> og fire noder i <code>to_node</code> beregnes den
korteste kjøreruten fra begge startnodene til alle de fire stoppnodene.
Resultatet blir et objekt med åtte rader. Om man kun er interessert i
den korteste kjøreavstanden fra hver av startnodene til én av
stoppnodene legger man inn argumentet <code>dist = "min"</code> i
funksjonen. Om man derimot vil ha hvilken av stoppnodene som har lengst
kjøreavstand per startnode settes <code>dist = "max"</code>.</p>
<p>For å beregne korteste kjøretid i minutter med
<code>shortest_path_cppRouting</code> settes
<code>graph_cppRouting = graph_cppRouting_minutes</code>, mens
<code>graph_cppRouting = graph_cppRouting_meters</code> beregner
korteste kjøreavstand i meter. Objektet/objektene
<code>graph_cppRouting_minutes</code>/<code>graph_cppRouting_meters</code>
må være lastet inn (gjøres med funksjonen <code>vegnett_to_R</code>) før
funksjonen <code>shortest_path_cppRouting</code> kan brukes.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">avstand_cpp_min</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/shortest_path_cppRouting.html">shortest_path_cppRouting</a></span><span class="op">(</span><span class="va">from_node</span><span class="op">$</span><span class="va">from_node</span>,</span>
<span>                                       <span class="va">to_node</span><span class="op">$</span><span class="va">to_node</span>,</span>
<span>                                       unit <span class="op">=</span> <span class="st">"minutes"</span>, </span>
<span>                                       graph_cppRouting_object <span class="op">=</span> <span class="va">graph_cppRouting_minutes</span><span class="op">)</span></span>
<span></span>
<span><span class="va">avstand_cpp_min</span></span>
<span></span>
<span><span class="va">avstand_cpp_meter</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/shortest_path_cppRouting.html">shortest_path_cppRouting</a></span><span class="op">(</span><span class="va">from_node</span><span class="op">$</span><span class="va">from_node</span>,</span>
<span>                                       <span class="va">to_node</span><span class="op">$</span><span class="va">to_node</span>,</span>
<span>                                       unit <span class="op">=</span> <span class="st">"meters"</span>, </span>
<span>                                       graph_cppRouting_object <span class="op">=</span> <span class="va">graph_cppRouting_meters</span><span class="op">)</span></span>
<span></span>
<span><span class="va">avstand_cpp_meter</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="eksempel-beregnet-kjøretid-til-nærmeste-fødested">Eksempel: beregnet kjøretid til nærmeste fødested<a class="anchor" aria-label="anchor" href="#eksempel-beregnet-kj%C3%B8retid-til-n%C3%A6rmeste-f%C3%B8dested"></a>
</h2>
<p>I dette eksempelet beregnes korteste og lengste kjøretid fra to
adresser (“Akersveien 26, 0177” og “Otervegen 23, 2211”) til syv ulike
adresser (fødesteder).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">adresser</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sykehusveien 25"</span>,</span>
<span>              <span class="st">"Sognsvannsveien 20"</span>,</span>
<span>              <span class="st">"Kirkeveien 166"</span>,</span>
<span>              <span class="st">"Parkvegen 35"</span>,</span>
<span>              <span class="st">"Kirkevegen 31"</span>,</span>
<span>              <span class="st">"Sjukehusveien 9"</span>,</span>
<span>              <span class="st">"Sogneprest Munthe-Kaas vei 100"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">postnummere</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1474"</span>,</span>
<span>              <span class="st">"0372"</span>,</span>
<span>              <span class="st">"0450"</span>,</span>
<span>              <span class="st">"2212"</span>,</span>
<span>              <span class="st">"2413"</span>,</span>
<span>              <span class="st">"2500"</span>,</span>
<span>              <span class="st">"1346"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">til</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/address_to_coords.html">address_to_coords</a></span><span class="op">(</span>zip_code <span class="op">=</span> <span class="va">postnummere</span>,</span>
<span>                         address <span class="op">=</span> <span class="va">adresser</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_google.html">coords_to_google</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">to_node</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_node.html">coords_to_node</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="va">til</span>, direction <span class="op">=</span> <span class="st">"to"</span>, membership <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="va">to_node</span></span>
<span></span>
<span><span class="va">fra</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/address_to_coords.html">address_to_coords</a></span><span class="op">(</span>zip_code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0177"</span>, <span class="st">"2211"</span><span class="op">)</span>,</span>
<span>                         address <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Akersveien 26"</span>, <span class="st">"Otervegen 23"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_google.html">coords_to_google</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">from_node</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/coords_to_node.html">coords_to_node</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="va">fra</span>, direction <span class="op">=</span> <span class="st">"from"</span>, membership <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="va">from_node</span></span>
<span></span>
<span><span class="va">avstand_cpp</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/shortest_path_cppRouting.html">shortest_path_cppRouting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">from_node</span><span class="op">$</span><span class="va">from_node</span><span class="op">)</span>,</span>
<span>                                       <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">to_node</span><span class="op">$</span><span class="va">to_node</span><span class="op">)</span>,</span>
<span>                                       unit <span class="op">=</span> <span class="st">"minutes"</span><span class="op">)</span></span>
<span><span class="va">avstand_cpp</span></span>
<span></span>
<span><span class="va">avstand_cpp_min</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/shortest_path_cppRouting.html">shortest_path_cppRouting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">from_node</span><span class="op">$</span><span class="va">from_node</span><span class="op">)</span>,</span>
<span>                                       <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">to_node</span><span class="op">$</span><span class="va">to_node</span><span class="op">)</span>,</span>
<span>                                       unit <span class="op">=</span> <span class="st">"minutes"</span>,</span>
<span>                                       dist <span class="op">=</span> <span class="st">"min"</span><span class="op">)</span></span>
<span><span class="va">avstand_cpp_min</span></span>
<span></span>
<span><span class="va">avstand_cpp_max</span> <span class="op">&lt;-</span> <span class="fu">GISSB</span><span class="fu">::</span><span class="fu"><a href="../reference/shortest_path_cppRouting.html">shortest_path_cppRouting</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">from_node</span><span class="op">$</span><span class="va">from_node</span><span class="op">)</span>,</span>
<span>                                       <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">to_node</span><span class="op">$</span><span class="va">to_node</span><span class="op">)</span>,</span>
<span>                                       unit <span class="op">=</span> <span class="st">"minutes"</span>,</span>
<span>                                       dist <span class="op">=</span> <span class="st">"max"</span><span class="op">)</span></span>
<span><span class="va">avstand_cpp_max</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Sindre Mikael Haugen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
